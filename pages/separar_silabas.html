<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sílabas Embaralhadas 📝</title>
    <link rel="stylesheet" href="../src/css/global.css">
    <link rel="stylesheet" href="../src/css/separar_silabas.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="mainContainer">
        <!-- Header -->
        <div id="header">
            <h1 id="activityTitle">📝 Sílabas Embaralhadas 📝</h1>
        </div>

        <!-- Área de conteúdo -->
        <div id="contentArea">
            <!-- Menu Inicial -->
            <div id="startMenu">
                <!-- Vídeo de fundo -->
                <img 
                    src="../src/assets/images/fundo_separar_silabas.png" 
                    alt="Fundo do jogo"
                    class="bg-image"
                    aria-hidden="true"
                />

                <!-- Overlay -->
                <div class="startMenu-overlay"></div>

                <!-- Conteúdo do menu -->
                <div class="startMenu-content" role="group" aria-label="Menu inicial">
                    <h2 id="menuTitle">Forme as Palavras!</h2>
                    <div id="difficultySelector">
                        <button class="difficultyBtn selected" data-level="1" type="button">🌟 Fácil (2 sílabas)</button>
                        <button class="difficultyBtn" data-level="2" type="button">⭐ Médio (3 sílabas)</button>
                        <button class="difficultyBtn" data-level="3" type="button">💫 Difícil (4+ sílabas)</button>
                    </div>
                    <button id="startBtn" type="button">INICIAR</button>
                </div>
            </div>

            <!-- Área do Jogo -->
            <div id="gameContainer">
                <!-- HUD do Jogo -->
                <div id="gameHUD">
                    <div id="roundInfo">
                        <span id="levelName">Nível Fácil</span> - Palavra <span id="currentRound">1</span> de <span id="totalRounds">7</span>
                    </div>
                    <div id="wordHint">
                        Arraste as sílabas para formar a palavra
                    </div>
                </div>

                <!-- Controles do Jogo -->
                <div id="gameControls">
                    <button class="gameControlBtn" id="menuBtnInGame" type="button" title="Menu Principal">🏠</button>
                    <button class="gameControlBtn" id="soundBtn" type="button" title="Som" >🔊</button>
                    <button class="gameControlBtn" id="resetWordBtn" type="button" title="Reiniciar Palavra" >🔄</button>
                </div>

                <!-- Área de formação da palavra -->
                <div id="wordFormation"></div>

                <!-- Sílabas embaralhadas -->
                <div id="syllablesContainer"></div>
            </div>
        </div>

        <!-- Modal de Feedback -->
        <div id="feedbackModal" role="dialog">
            <div class="feedbackContent">
              <h2 id="feedbackTitle">Parabéns!</h2>
              <div id="feedbackGif" style="margin: 20px 0; text-align: center;">
                  <img id="feedbackImage" src="" alt="" style="max-width: 200px; max-height: 200px; border-radius: 15px;">
              </div>
              <div id="formedWord"></div>
              <p id="wordMeaning"></p>
                <div class="feedbackButtons">
                    <button class="feedbackBtn tryAgainBtn" id="tryAgainBtn" type="button" >Tentar Novamente</button>
                    <button class="feedbackBtn nextBtn" id="nextBtn" type="button" >Próxima Palavra</button>
                </div>
            </div>
        </div>

        <!-- Área para leitores de tela -->
        <div class="sr-only" aria-live="polite" id="screenReaderAnnouncements"></div>
    </div>

    <!-- ===========================
      Widget de Acessibilidade
      =========================== -->

  <!-- Botão Flutuante de Acessibilidade -->
  <button
    class="accessibility-float-btn"
    id="accessibilityFloatBtn"
    aria-label="Abrir menu de acessibilidade"
    aria-controls="accessibilityPanel"
    aria-expanded="false"
    onclick="toggleAccessibilityPanel()"
  >
  <span class="accessibility-icon" aria-hidden="true">
    <img src="../src/assets/images/icon-acessibilidade.png" alt="">
  </span>

  </button>

  <!-- Overlay -->
  <div
    class="accessibility-panel-overlay"
    id="accessibilityOverlay"
    onclick="closeAccessibilityPanel()"
    aria-hidden="true"
  ></div>

  <!-- Painel de Acessibilidade (drawer à direita) -->
  <div
    class="accessibility-panel-modern right-drawer"
    id="accessibilityPanel"
    role="dialog"
    aria-modal="true"
    aria-labelledby="accessibilityPanelTitle"
  >
    <div class="panel-header-modern">
      <h2 id="accessibilityPanelTitle">Menu de Acessibilidade</h2>
      <button
        class="close-btn"
        type="button"
        aria-label="Fechar menu de acessibilidade"
        onclick="closeAccessibilityPanel()"
      >
        ×
      </button>
    </div>

    <!-- Área rolável do painel -->
    <div class="panel-content" id="accessibilityPanelContent" tabindex="-1">
      <!-- Perfis de Acessibilidade -->
      <div class="accessibility-profiles">
        <h3>Selecione seu perfil de acessibilidade</h3>
        <div class="profiles-grid">
          <button class="profile-btn" onclick="applyProfile('motor')" data-profile="motor" type="button">
            <span class="profile-icon" aria-hidden="true">🦽</span>
            <span class="profile-text">Deficiência Motora</span>
          </button>
          <button class="profile-btn" onclick="applyProfile('visual')" data-profile="visual" type="button">
            <span class="profile-icon" aria-hidden="true">👁️</span>
            <span class="profile-text">Deficiência Visual</span>
          </button>
          <button class="profile-btn" onclick="applyProfile('cognitive')" data-profile="cognitive" type="button">
            <span class="profile-icon" aria-hidden="true">🧠</span>
            <span class="profile-text">Deficiência Cognitiva</span>
          </button>
          <button class="profile-btn" onclick="applyProfile('hearing')" data-profile="hearing" type="button">
            <span class="profile-icon" aria-hidden="true">🦻</span>
            <span class="profile-text">Deficiência Auditiva</span>
          </button>
        </div>
      </div>

      <!-- Ferramentas Individuais -->
      <div class="tools-grid" role="group" aria-label="Ferramentas de acessibilidade">
        <!-- Linha 1 -->
        <button class="tool-btn" onclick="toggleTextToSpeech()" id="ttsBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🔊</span>
          <span class="tool-text">Clique para Ouvir</span>
        </button>

        <button class="tool-btn" onclick="toggleHighContrast()" id="contrastBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🌓</span>
          <span class="tool-text">Alto Contraste</span>
        </button>

        <button class="tool-btn" onclick="toggleDarkMode()" id="darkModeBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🌙</span>
          <span class="tool-text">Modo Escuro</span>
        </button>

        <!-- Linha 2 -->
        <button class="tool-btn" onclick="decreaseFontSize()" id="decreaseFontBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🔤</span>
          <span class="tool-text">Diminuir Fonte</span>
        </button>

        <button class="tool-btn" onclick="increaseFontSize()" id="increaseFontBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🔠</span>
          <span class="tool-text">Aumentar Fonte</span>
        </button>

        <button class="tool-btn" onclick="toggleDyslexiaFont()" id="dyslexiaBtn" type="button">
          <span class="tool-icon" aria-hidden="true">📝</span>
          <span class="tool-text">Fonte Dislexia</span>
        </button>

        <!-- Linha 3 -->
        <button class="tool-btn" onclick="toggleGrayscale()" id="grayscaleBtn" type="button">
          <span class="tool-icon" aria-hidden="true">⚫</span>
          <span class="tool-text">Monocromático</span>
        </button>

        <button class="tool-btn" onclick="toggleLowSaturation()" id="lowSatBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🔘</span>
          <span class="tool-text">Baixa Saturação</span>
        </button>

        <button class="tool-btn" onclick="toggleHighSaturation()" id="highSatBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🟡</span>
          <span class="tool-text">Alta Saturação</span>
        </button>

        <!-- Linha 4 -->
        <button class="tool-btn" onclick="toggleReadingRuler()" id="rulerBtn" type="button">
          <span class="tool-icon" aria-hidden="true">📏</span>
          <span class="tool-text">Régua de Leitura</span>
        </button>

        <button class="tool-btn" onclick="toggleMagnifier()" id="magnifierBtn" type="button">
          <span class="tool-icon" aria-hidden="true">📖</span>
          <span class="tool-text">Mascara de Leitura</span>
        </button>

        <button class="tool-btn" onclick="toggleFocusHighlight()" id="focusBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🎯</span>
          <span class="tool-text">Destacar Links</span>
        </button>

        <!-- Linha 5 -->
        <button class="tool-btn" onclick="pauseAnimations()" id="animationBtn" type="button">
          <span class="tool-icon" aria-hidden="true">⏸️</span>
          <span class="tool-text">Pausar Animações</span>
        </button>

        <button class="tool-btn" onclick="showKeyboardShortcuts()" type="button">
          <span class="tool-icon" aria-hidden="true">⌨️</span>
          <span class="tool-text">Atalhos Teclado</span>
        </button>

        <button class="tool-btn" onclick="resetAll()" id="resetBtn" type="button">
          <span class="tool-icon" aria-hidden="true">🔄</span>
          <span class="tool-text">Resetar Tudo</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Elementos auxiliares fora do painel -->
  <div class="reading-ruler" id="readingRuler" aria-hidden="true"></div>
  <div class="magnifier-circle" id="magnifier" aria-hidden="true"></div>

    <!-- Footer -->
    <footer class="game-footer-silabas">
        <p>Ferramenta Educacional - Sílabas Embaralhadas | Criação e desenvolvimento por Ana Paula Camara e João Jr</p>
    </footer>

    <script src="../src/js/separar_silabas.js" defer></script>
    <script src="../src/js/acessibilidade.js"></script>
</body>
</html>
