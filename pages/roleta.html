<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roleta de Perguntas em Ingl√™s</title>
    <meta name="description" content="Uma ferramenta educacional interativa para ensinar a estrutura de perguntas em ingl√™s com tr√™s roletas conc√™ntricas.">
    
    <!-- Preload para melhor performance -->
    <link rel="preload" href="../src/css/roleta.css" as="style">
    <link rel="preload" href="../src/js/roleta.js" as="script">
    
    <!-- Links para CSS e JS externos -->
    <link rel="stylesheet" href="../src/css/roleta.css">
    <link rel="stylesheet" href="../src/css/global.css" />
    
    <!-- Favicon e √≠cones para diferentes dispositivos -->
    <meta name="theme-color" content="#8b5cf6">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <!-- Skip link para acessibilidade -->
    <a href="#main-content" class="skip-link">Pular para o conte√∫do principal</a>
    
    <!-- Header -->
    <header class="header" role="banner">
        <div class="container">
            <h1 class="header-title">
                <span class="header-icon" aria-hidden="true">üé°</span>
                Roleta de Perguntas em Ingl√™s
            </h1>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main-content" role="main">
        <div class="container">
            <!-- SE√á√ÉO DE SELE√á√ÉO DE TEMA -->
            <section class="theme-selection-section">
                <h2 class="section-title">Escolha um Tema</h2>
                <div class="theme-selector-wrapper">
                    <label for="theme-selector" class="sr-only">Selecione o tema para as perguntas</label>
                    <select id="theme-selector" class="theme-selector">
                        <option value="all">Todos os Temas</option>
                        <option value="daily_routine">Rotina Di√°ria</option>
                        <option value="food">Comida e Bebida</option>
                        <option value="hobbies">Hobbies e Lazer</option>
                        <option value="places">Lugares e Viagens</option>
                        <option value="feelings">Sentimentos</option>
                        <option value="nature">Natureza</option>
                    </select>
                </div>
            </section>

            <!-- √Årea de Resultado - Pergunta Formada -->
            <section class="result-section" aria-labelledby="result-title">
                <h2 id="result-title" class="section-title">Pergunta Formada</h2>
                
                <div 
                    id="question-display" 
                    class="question-display"
                    role="status"
                    aria-live="polite"
                    aria-atomic="true"
                >
                    <div class="question-content">
                        <div class="question-parts">
                            <span id="wh-result" class="question-part wh-part">What</span>
                            <span id="aux-result" class="question-part aux-part">do</span>
                            <span id="subject-result" class="question-part subject-part">you</span>
                            <span id="complement-result" class="question-part complement-part">do on weekends</span><span class="question-part complement">?</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- √Årea da Roleta -->
            <section class="wheel-section" aria-labelledby="wheel-title">
                <h2 id="wheel-title" class="section-title">Roleta de Perguntas</h2>
                
                <div class="wheel-container">
                    <div class="wheel-wrapper">
                        <!-- Bot√£o de Som (√≠cone) -->
                        <button 
                            id="sound-toggle" 
                            class="sound-toggle-icon" 
                            type="button"
                            aria-pressed="true"
                            aria-label="Ativar ou desativar som"
                        >
                            <span class="toggle-icon" aria-hidden="true">üîä</span>
                        </button>
                        <!-- Ponteiro Lateral (movido para c√° para alinhamento correto) -->
                        <div class="wheel-pointer-container" aria-hidden="true">
                            <div class="wheel-pointer"></div>
                        </div>
                        
                        <!-- SVG da Roleta com 3 discos -->
                        <svg 
                            class="wheel-svg" 
                            viewBox="0 0 400 400" 
                            role="img"
                            aria-labelledby="wheel-svg-title"
                        >
                            <title id="wheel-svg-title">Uma roleta com tr√™s an√©is conc√™ntricos para formar perguntas em ingl√™s.</title>
                            
                            <!-- Anel Externo (Pronomes Interrogativos) -->
                            <g id="outer-ring" class="ring outer-ring">
                                <!-- Se√ß√µes ser√£o geradas dinamicamente pelo JavaScript -->
                            </g>
                            
                            <!-- Anel Intermedi√°rio (Verbos) -->
                            <g id="middle-ring" class="ring middle-ring">
                                <!-- Se√ß√µes ser√£o geradas dinamicamente pelo JavaScript -->
                            </g>
                            
                            <!-- Anel Interno (Pronomes Pessoais) -->
                            <g id="inner-ring" class="ring inner-ring">
                                <!-- Se√ß√µes ser√£o geradas dinamicamente pelo JavaScript -->
                            </g>
                            
                            <!-- Centro da roleta como bot√£o -->
                            <g id="spin-center-button" class="wheel-center-button" role="button" tabindex="0" aria-label="Girar roleta">
                                <circle 
                                    cx="200" 
                                    cy="200" 
                                    r="25" 
                                    class="wheel-center"
                                    fill="#a78bfa"
                                    stroke="#5b21b6"
                                    stroke-width="3"
                                />
                                <text 
                                    x="200" 
                                    y="205" 
                                    text-anchor="middle" 
                                    class="wheel-center-text"
                                    fill="#1f2937"
                                    font-weight="bold"
                                    font-size="12"
                                >
                                    SPIN
                                </text>
                            </g>
                        </svg>
                    </div>
                    
                    <!-- Controles espec√≠ficos para cada anel -->
                    <div class="ring-controls">
                        <button id="spin-all" class="ring-button all-button" type="button">
                            <span class="button-icon" aria-hidden="true">üé≤</span>
                            <span class="button-text">Girar Roleta</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Controles Finais -->
            <section class="final-controls-section">
                <!-- Controles de Ajuda e Configura√ß√£o -->
                <div class="extra-controls">
                    <button id="open-guide-btn" class="toggle-button" type="button">
                        <span class="toggle-icon" aria-hidden="true">‚ùì</span>
                        <span class="toggle-text">Como Usar</span>
                    </button>
                    <button id="config-words" class="toggle-button" type="button">
                        <span class="toggle-icon" aria-hidden="true">‚öôÔ∏è</span>
                        <span class="toggle-text">Configurar Palavras</span>
                    </button>
                    <button id="open-history-btn" class="toggle-button" type="button">
                        <span class="toggle-icon" aria-hidden="true">üìú</span>
                        <span class="toggle-text">Hist√≥rico</span>
                    </button>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer padr√£o das ferramentas educacionais -->
    <footer class="game-footer" role="contentinfo">
        <p>Ferramenta Educacional - Roleta de Perguntas em Ingl√™s | Cria√ß√£o e desenvolvimento por Jo√£o Jr</p>
    </footer>

    <!-- Loading overlay -->
    <div id="loading-overlay" class="loading-overlay" aria-hidden="true">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p class="loading-text">Preparando roleta...</p>
        </div>
    </div>

    <!-- Modal de configura√ß√£o de palavras -->
    <div 
        id="config-modal" 
        class="modal" 
        role="dialog" 
        aria-labelledby="config-modal-title"
        aria-hidden="true"
    >
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="config-modal-title" class="modal-title">
                    Configurar Palavras dos An√©is
                </h2>
                <button 
                    id="close-config-modal" 
                    class="modal-close"
                    type="button"
                    aria-label="Fechar modal"
                >
                    <span aria-hidden="true">√ó</span>
                </button>
            </header>
            
            <div class="modal-body">
                <div class="config-rings">
                    <div class="config-ring-section">
                        <h3>Anel Externo - Palavras WH</h3>
                        <div class="config-inputs" id="outer-config">
                            <!-- Inputs will be generated dynamically -->
                        </div>
                    </div>
                    
                    <div class="config-ring-section">
                        <h3>Anel do Meio - Verbos</h3>
                        <div class="config-inputs" id="middle-config">
                            <!-- Inputs will be generated dynamically -->
                        </div>
                    </div>
                    
                    <div class="config-ring-section">
                        <h3>Anel Interno - Sujeitos</h3>
                        <div class="config-inputs" id="inner-config">
                            <!-- Inputs will be generated dynamically -->
                        </div>
                    </div>
                </div>
                
                <div class="config-actions">
                    <button id="save-config" class="action-button" type="button">
                        <span class="button-icon" aria-hidden="true">üíæ</span>
                        Salvar Configura√ß√£o
                    </button>
                    <button id="reset-config" class="action-button secondary" type="button">
                        <span class="button-icon" aria-hidden="true">‚Ü©Ô∏è</span>
                        Restaurar Padr√£o
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Guia/Ajuda -->
    <div 
        id="guide-modal" 
        class="modal" 
        role="dialog" 
        aria-labelledby="guide-modal-title"
        aria-hidden="true"
    >
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="guide-modal-title" class="modal-title">
                    Como Usar & Atalhos
                </h2>
                <button 
                    id="close-guide-modal" 
                    class="modal-close"
                    type="button"
                    aria-label="Fechar modal"
                >
                    <span aria-hidden="true">√ó</span>
                </button>
            </header>
            
            <div class="modal-body">
                <h3>Como Jogar:</h3>
                <p>
                    Clique em <strong>Girar Roleta</strong> ou no centro <strong>SPIN</strong> para girar os tr√™s an√©is ao mesmo tempo e formar uma pergunta em ingl√™s. 
                    Combine uma <strong>Palavra WH</strong> (anel externo), um <strong>Verbo</strong> (anel do meio) e um <strong>Sujeito</strong> (anel interno). 
                    Atualmente, o giro √© <strong>apenas conjunto</strong> (n√£o h√° giro individual por anel).
                </p>

                <h3>Atalhos de Teclado:</h3>
                <ul>
                    <li><kbd>Espa√ßo</kbd> ou <kbd>Enter</kbd>: Girar a roleta</li>
                    <li><kbd>S</kbd>: Alternar som</li>
                    <li><kbd>C</kbd>: Configurar palavras</li>
                    <li><kbd>H</kbd>: Abrir hist√≥rico</li>
                    <li><kbd>?</kbd>: Abrir este guia</li>
                    <li><kbd>Esc</kbd>: Fechar qualquer modal aberto</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal de Hist√≥rico -->
    <div 
        id="history-modal" 
        class="modal" 
        role="dialog" 
        aria-labelledby="history-modal-title"
        aria-hidden="true"
    >
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="history-modal-title" class="modal-title">
                    Hist√≥rico de Perguntas
                </h2>
                <button 
                    id="close-history-modal" 
                    class="modal-close"
                    type="button"
                    aria-label="Fechar modal"
                >
                    <span aria-hidden="true">√ó</span>
                </button>
            </header>
            
            <div class="modal-body">
                <div class="history-container">
                    <ul id="question-history" class="question-history" aria-label="Lista das √∫ltimas perguntas formadas">
                        <!-- History will be filled dynamically -->
                    </ul>
                    <button id="clear-history" class="clear-button" type="button">
                        <span class="button-icon" aria-hidden="true">üóëÔ∏è</span>
                        Limpar Hist√≥rico
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Script principal -->
    <script src="../src/js/roleta.js"></script>
</body>
</html>
