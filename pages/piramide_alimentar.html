<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PirÃ¢mide Alimentar Interativa - Sistema Educativo</title>
    <link rel="stylesheet" href="../src/css/piramide_alimentar.css">
    <link rel="stylesheet" href="../src/css/global.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Tela Inicial de NavegaÃ§Ã£o -->
        <div id="main-menu" class="screen active">
            <header class="menu-header">
                <h1>ğŸ¥— PirÃ¢mide Alimentar Interativa</h1>
                <p>Aprenda sobre alimentaÃ§Ã£o saudÃ¡vel de forma divertida!</p>
            </header>
            
            <div class="menu-options">
                <button class="menu-btn learn-btn" onclick="startLearning()">
                    <div class="btn-icon">ğŸ“š</div>
                    <h3>Aprender</h3>
                    <p>Descubra os grupos alimentares</p>
                </button>
                
                <button class="menu-btn play-btn" onclick="startGame()">
                    <div class="btn-icon">ğŸ®</div>
                    <h3>Desafio</h3>
                    <p>Desafio da pirÃ¢mide alimentar</p>
                </button>
                

            </div>
        </div>

        <!-- Sistema de LiÃ§Ãµes -->
        <div id="learning-system" class="screen">
        <!-- Navigation wrapper sempre presente -->
        <div id="learning-nav-wrapper">
            <div class="lesson-nav">
            <button id="btn-back-learn" class="back-btn-learn" onclick="showMainMenu()">â† Voltar</button>
            <div class="progress-bar">
            <div class="progress-fill" id="lesson-progress"></div>
            </div>
            <div class="lesson-counter" id="lesson-counter">LiÃ§Ã£o 1 de 6</div>
            </div>
        </div>

        <!-- ConteÃºdo dinÃ¢mico isolado -->
        <div id="lesson-content" class="lesson-content"></div>

        <div class="lesson-controls">
            <button id="prev-lesson" class="control-btn" onclick="previousLesson()" disabled>â¬…ï¸ Anterior</button>
            <button id="next-lesson" class="control-btn primary" onclick="nextLesson()">PrÃ³ximo â¡ï¸</button>
        </div>
        </div>



        
        <!-- Jogo Principal (Mantido do cÃ³digo anterior) -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <button class="back-btn back-btn-main" onclick="showMainMenu()">
                    Menu Principal
                </button>
                <h1>ğŸ¥— Desafio da PirÃ¢mide Alimentar</h1>
                <p>Agora Ã© hora de testar seus conhecimentos!</p>
                <button class="header-toggle-btn" onclick="toggleGameHeader()" title="Esconder/Mostrar Header">
                    <span class="header-toggle-arrow">â–²</span>
                </button>
            </div>

            <main class="game-container">
                <!-- Ãrea dos Alimentos -->
                <section class="food-bank">
                    <h3>ğŸ Arraste os alimentos para o grupo correto</h3>
                    <div class="food-items">
                        <!-- EnergÃ©ticos (Carboidratos) -->
                        <div class="food-item" draggable="true" data-group="energeticos" data-name="Arroz">
                            <div class="food-icon">ğŸš</div>
                            <span>Arroz</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="energeticos" data-name="PÃ£o">
                            <div class="food-icon">ğŸ</div>
                            <span>PÃ£o</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="energeticos" data-name="Batata">
                            <div class="food-icon">ğŸ¥”</div>
                            <span>Batata</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="energeticos" data-name="MacarrÃ£o">
                            <div class="food-icon">ğŸ</div>
                            <span>MacarrÃ£o</span>
                        </div>

                        <!-- Reguladores (Vitaminas e Minerais) -->
                        <div class="food-item" draggable="true" data-group="reguladores" data-name="Alface">
                            <div class="food-icon">ğŸ¥¬</div>
                            <span>Alface</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="reguladores" data-name="Cenoura">
                            <div class="food-icon">ğŸ¥•</div>
                            <span>Cenoura</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="reguladores" data-name="MaÃ§Ã£">
                            <div class="food-icon">ğŸ</div>
                            <span>MaÃ§Ã£</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="reguladores" data-name="Banana">
                            <div class="food-icon">ğŸŒ</div>
                            <span>Banana</span>
                        </div>

                        <!-- Construtores (ProteÃ­nas) -->
                        <div class="food-item" draggable="true" data-group="construtores" data-name="Frango">
                            <div class="food-icon">ğŸ—</div>
                            <span>Frango</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="construtores" data-name="FeijÃ£o">
                            <div class="food-icon">ğŸ«˜</div>
                            <span>FeijÃ£o</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="construtores" data-name="Ovo">
                            <div class="food-icon">ğŸ¥š</div>
                            <span>Ovo</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="construtores" data-name="Leite">
                            <div class="food-icon">ğŸ¥›</div>
                            <span>Leite</span>
                        </div>

                        <!-- EnergÃ©ticos Extras -->
                        <div class="food-item" draggable="true" data-group="energeticos-extras" data-name="Brigadeiro">
                            <div class="food-icon">ğŸ§</div>
                            <span>Brigadeiro</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="energeticos-extras" data-name="Refrigerante">
                            <div class="food-icon">ğŸ¥¤</div>
                            <span>Refrigerante</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="energeticos-extras" data-name="Chocolate">
                            <div class="food-icon">ğŸ«</div>
                            <span>Chocolate</span>
                        </div>
                        <div class="food-item" draggable="true" data-group="energeticos-extras" data-name="Batata Frita">
                            <div class="food-icon">ğŸŸ</div>
                            <span>Batata Frita</span>
                        </div>
                    </div>
                </section>

                <!-- PirÃ¢mide Alimentar -->
                <section class="pyramid-section">
                    <div id="container-botoes">
                        <button id="reset-btn">ğŸ”„ RecomeÃ§ar</button>
                        <button class="show-placed-btn"><span>ğŸ‘</span> Visualizar piramide</button>
                    </div>

                    <div class="pyramid-container">
                        <!-- NÃ­vel 1: EnergÃ©ticos Extras (Topo) -->
                        <div class="pyramid-level level-1" data-group="energeticos-extras">
                            <div class="level-header">
                                <h4>EnergÃ©ticos Extras</h4>
                                <span class="subtitle">LipÃ­deos/AÃ§Ãºcares</span>
                            </div>
                            <div class="level-content">
                                <div class="drop-zone" id="drop-energeticos-extras">
                                    <p class="drop-hint">Arraste aqui</p>
                                </div>
                            </div>
                        </div>

                        <!-- NÃ­vel 2: Construtores -->
                        <div class="pyramid-level level-2" data-group="construtores">
                            <div class="level-header">
                                <h4>Construtores</h4>
                                <span class="subtitle">ProteÃ­nas</span>
                            </div>
                            <div class="level-content">
                                <div class="drop-zone" id="drop-construtores">
                                    <p class="drop-hint">Arraste aqui</p>
                                </div>
                            </div>
                        </div>

                        <!-- NÃ­vel 3: Reguladores -->
                        <div class="pyramid-level level-3" data-group="reguladores">
                            <div class="level-header">
                                <h4>Reguladores</h4>
                                <span class="subtitle">Vitaminas e Minerais</span>
                            </div>
                            <div class="level-content">
                                <div class="drop-zone" id="drop-reguladores">
                                    <p class="drop-hint">Arraste aqui</p>
                                </div>
                            </div>
                        </div>

                        <!-- NÃ­vel 4: EnergÃ©ticos (Base) -->
                        <div class="pyramid-level level-4" data-group="energeticos">
                            <div class="level-header">
                                <h4>EnergÃ©ticos</h4>
                                <span class="subtitle">Carboidratos</span>
                            </div>
                            <div class="level-content">
                                <div class="drop-zone" id="drop-energeticos">
                                    <p class="drop-hint">Arraste aqui</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Modal de InformaÃ§Ãµes -->
        <div id="info-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3 id="modal-title"></h3>
                <div id="modal-body"></div>
            </div>
        </div>

        <!-- Quiz Modal -->
        <div id="quiz-modal" class="modal">
            <div class="modal-content quiz-content">
                <h3 id="quiz-title"></h3>
                <div id="quiz-question"></div>
                <div id="quiz-options"></div>
                <div id="quiz-feedback"></div>
                <button id="quiz-next" class="control-btn primary" style="display: none;">Continuar</button>
            </div>
        </div>

    </div>
        <!-- Footer -->
        <footer class="game-footer">
            <p>Ferramenta Educacional - PirÃ¢mide Alimentar | CriaÃ§Ã£o e desenvolvimento por Ana Paula Camara e JoÃ£o Jr</p>
        </footer>
            <!-- ===========================
      Widget de Acessibilidade
      =========================== -->

  <!-- BotÃ£o Flutuante de Acessibilidade -->
  <button
    class="accessibility-float-btn"
    id="accessibilityFloatBtn"
    aria-label="Abrir menu de acessibilidade"
    aria-controls="accessibilityPanel"
    aria-expanded="false"
    onclick="toggleAccessibilityPanel()"
  >
  <span class="accessibility-icon" aria-hidden="true">
    <img src="../src/assets/images/icon-acessibilidade.png" alt="">
  </span>

  </button>

  <!-- Overlay -->
  <div
    class="accessibility-panel-overlay"
    id="accessibilityOverlay"
    onclick="closeAccessibilityPanel()"
    aria-hidden="true"
  ></div>

  <!-- Painel de Acessibilidade (drawer Ã  direita) -->
  <div
    class="accessibility-panel-modern right-drawer"
    id="accessibilityPanel"
    role="dialog"
    aria-modal="true"
    aria-labelledby="accessibilityPanelTitle"
  >
    <div class="panel-header-modern">
      <h2 id="accessibilityPanelTitle">Menu de Acessibilidade</h2>
      <button
        class="close-btn"
        type="button"
        aria-label="Fechar menu de acessibilidade"
        onclick="closeAccessibilityPanel()"
      >
        Ã—
      </button>
    </div>

    <!-- Ãrea rolÃ¡vel do painel -->
    <div class="panel-content" id="accessibilityPanelContent" tabindex="-1">
      <!-- Perfis de Acessibilidade -->
      <div class="accessibility-profiles">
        <h3>Selecione seu perfil de acessibilidade</h3>
        <div class="profiles-grid">
          <button class="profile-btn" onclick="applyProfile('motor')" data-profile="motor" type="button">
            <span class="profile-icon" aria-hidden="true">ğŸ¦½</span>
            <span class="profile-text">DeficiÃªncia Motora</span>
          </button>
          <button class="profile-btn" onclick="applyProfile('visual')" data-profile="visual" type="button">
            <span class="profile-icon" aria-hidden="true">ğŸ‘ï¸</span>
            <span class="profile-text">DeficiÃªncia Visual</span>
          </button>
          <button class="profile-btn" onclick="applyProfile('cognitive')" data-profile="cognitive" type="button">
            <span class="profile-icon" aria-hidden="true">ğŸ§ </span>
            <span class="profile-text">DeficiÃªncia Cognitiva</span>
          </button>
          <button class="profile-btn" onclick="applyProfile('hearing')" data-profile="hearing" type="button">
            <span class="profile-icon" aria-hidden="true">ğŸ¦»</span>
            <span class="profile-text">DeficiÃªncia Auditiva</span>
          </button>
        </div>
      </div>

      <!-- Ferramentas Individuais -->
      <div class="tools-grid" role="group" aria-label="Ferramentas de acessibilidade">
        <!-- Linha 1 -->
        <button class="tool-btn" onclick="toggleTextToSpeech()" id="ttsBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ”Š</span>
          <span class="tool-text">Clique para Ouvir</span>
        </button>

        <button class="tool-btn" onclick="toggleHighContrast()" id="contrastBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸŒ“</span>
          <span class="tool-text">Alto Contraste</span>
        </button>

        <button class="tool-btn" onclick="toggleDarkMode()" id="darkModeBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸŒ™</span>
          <span class="tool-text">Modo Escuro</span>
        </button>

        <!-- Linha 2 -->
        <button class="tool-btn" onclick="decreaseFontSize()" id="decreaseFontBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ”¤</span>
          <span class="tool-text">Diminuir Fonte</span>
        </button>

        <button class="tool-btn" onclick="increaseFontSize()" id="increaseFontBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ” </span>
          <span class="tool-text">Aumentar Fonte</span>
        </button>

        <button class="tool-btn" onclick="toggleDyslexiaFont()" id="dyslexiaBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ“</span>
          <span class="tool-text">Fonte Dislexia</span>
        </button>

        <!-- Linha 3 -->
        <button class="tool-btn" onclick="toggleGrayscale()" id="grayscaleBtn" type="button">
          <span class="tool-icon" aria-hidden="true">âš«</span>
          <span class="tool-text">MonocromÃ¡tico</span>
        </button>

        <button class="tool-btn" onclick="toggleLowSaturation()" id="lowSatBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ”˜</span>
          <span class="tool-text">Baixa SaturaÃ§Ã£o</span>
        </button>

        <button class="tool-btn" onclick="toggleHighSaturation()" id="highSatBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸŸ¡</span>
          <span class="tool-text">Alta SaturaÃ§Ã£o</span>
        </button>

        <!-- Linha 4 -->
        <button class="tool-btn" onclick="toggleReadingRuler()" id="rulerBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ“</span>
          <span class="tool-text">RÃ©gua de Leitura</span>
        </button>

        <button class="tool-btn" onclick="toggleMagnifier()" id="magnifierBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ“–</span>
          <span class="tool-text">Mascara de Leitura</span>
        </button>

        <button class="tool-btn" onclick="toggleFocusHighlight()" id="focusBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ¯</span>
          <span class="tool-text">Destacar Links</span>
        </button>

        <!-- Linha 5 -->
        <button class="tool-btn" onclick="pauseAnimations()" id="animationBtn" type="button">
          <span class="tool-icon" aria-hidden="true">â¸ï¸</span>
          <span class="tool-text">Pausar AnimaÃ§Ãµes</span>
        </button>

        <button class="tool-btn" onclick="showKeyboardShortcuts()" type="button">
          <span class="tool-icon" aria-hidden="true">âŒ¨ï¸</span>
          <span class="tool-text">Atalhos Teclado</span>
        </button>

        <!-- NOVO: BotÃ£o para ativar VLibras -->
        <button class="tool-btn" onclick="enableVLibras()" id="vlibrasBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ¤Ÿ</span>
          <span class="tool-text">Ativar VLibras</span>
        </button>

        <button class="tool-btn" onclick="resetAll()" id="resetBtn" type="button">
          <span class="tool-icon" aria-hidden="true">ğŸ”„</span>
          <span class="tool-text">Resetar Tudo</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Elementos auxiliares fora do painel -->
  <div class="reading-ruler" id="readingRuler" aria-hidden="true"></div>
  <div class="magnifier-circle" id="magnifier" aria-hidden="true"></div>

  <!-- VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>

    <script src="../src/js/piramide_alimentar.js"></script>
    <script src="../src/js/acessibilidade.js"></script>
</body>
</html>
